/*==============================================================*/
/* DBMS name:      Microsoft SQL Server 2008                    */
/* Created on:     8/5/2020 7:42:01 PM                          */
/*==============================================================*/
USE MASTER
GO
DROP DATABASE IF EXISTS PTTK_THCK;
GO
CREATE DATABASE PTTK_THCK;
GO
USE PTTK_THCK;
GO

/*==============================================================*/
/* DBMS name:      Microsoft SQL Server 2008                    */
/* Created on:     8/6/2020 6:29:05 PM                          */
/*==============================================================*/


IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('BANGTHONGKEGOPY') AND O.NAME = 'FK_BANGTHON_REFERENCE_NHANVIEN')
ALTER TABLE BANGTHONGKEGOPY
   DROP CONSTRAINT FK_BANGTHON_REFERENCE_NHANVIEN
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('CHITIETBANGTHONGKE') AND O.NAME = 'FK_CHITIETB_REFERENCE_BANGTHON')
ALTER TABLE CHITIETBANGTHONGKE
   DROP CONSTRAINT FK_CHITIETB_REFERENCE_BANGTHON
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('CHITIETBANGTHONGKE') AND O.NAME = 'FK_CHITIETB_REFERENCE_GOPY')
ALTER TABLE CHITIETBANGTHONGKE
   DROP CONSTRAINT FK_CHITIETB_REFERENCE_GOPY
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('CHITIETDONNHAP') AND O.NAME = 'FK_CHITIETD_REFERENCE_DONNHAPH')
ALTER TABLE CHITIETDONNHAP
   DROP CONSTRAINT FK_CHITIETD_REFERENCE_DONNHAPH
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('CHITIETDONNHAP') AND O.NAME = 'FK_CHITIETD_REFERENCE_HANG')
ALTER TABLE CHITIETDONNHAP
   DROP CONSTRAINT FK_CHITIETD_REFERENCE_HANG
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('CHITIETDONTRAHANG') AND O.NAME = 'FK_CHITIETD_REFERENCE_HANGLOI')
ALTER TABLE CHITIETDONTRAHANG
   DROP CONSTRAINT FK_CHITIETD_REFERENCE_HANGLOI
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('CHITIETDONTRAHANG') AND O.NAME = 'FK_CHITIETD_REFERENCE_DONTRAHA')
ALTER TABLE CHITIETDONTRAHANG
   DROP CONSTRAINT FK_CHITIETD_REFERENCE_DONTRAHA
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('CHITIETHANGLOI') AND O.NAME = 'FK_CHITIETHANGLOI_REFERENCE_HOADONBANHANG')
ALTER TABLE CHITIETHANGLOI
   DROP CONSTRAINT FK_CHITIETHANGLOI_REFERENCE_HOADONBANHANG
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('CHITIETHANGLOI') AND O.NAME = 'FK_CHITIETH_REFERENCE_HANGLOI')
ALTER TABLE CHITIETHANGLOI
   DROP CONSTRAINT FK_CHITIETH_REFERENCE_HANGLOI
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('CHITIETHOADON') AND O.NAME = 'FK_CHITIETH_REFERENCE_HANG')
ALTER TABLE CHITIETHOADON
   DROP CONSTRAINT FK_CHITIETH_REFERENCE_HANG
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('CHITIETHOADON') AND O.NAME = 'FK_CHITIETHOADON_REFERENCE_HOADONBANHANG')
ALTER TABLE CHITIETHOADON
   DROP CONSTRAINT FK_CHITIETHOADON_REFERENCE_HOADONBANHANG
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('DOITACQUANGCAO') AND O.NAME = 'FK_DOITACQU_REFERENCE_HANG')
ALTER TABLE DOITACQUANGCAO
   DROP CONSTRAINT FK_DOITACQU_REFERENCE_HANG
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('DONNHAPHANG') AND O.NAME = 'FK_DONNHAPH_REFERENCE_NHANVIEN')
ALTER TABLE DONNHAPHANG
   DROP CONSTRAINT FK_DONNHAPH_REFERENCE_NHANVIEN
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('DONNHAPHANG') AND O.NAME = 'FK_DONNHAPH_REFERENCE_NHACUNGC')
ALTER TABLE DONNHAPHANG
   DROP CONSTRAINT FK_DONNHAPH_REFERENCE_NHACUNGC
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('DONTRAHANG') AND O.NAME = 'FK_DONTRAHA_REFERENCE_NHACUNGC')
ALTER TABLE DONTRAHANG
   DROP CONSTRAINT FK_DONTRAHA_REFERENCE_NHACUNGC
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('DONTRAHANG') AND O.NAME = 'FK_DONTRAHA_REFERENCE_NHANVIEN')
ALTER TABLE DONTRAHANG
   DROP CONSTRAINT FK_DONTRAHA_REFERENCE_NHANVIEN
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('GOPY') AND O.NAME = 'FK_GOPY_REFERENCE_HANG')
ALTER TABLE GOPY
   DROP CONSTRAINT FK_GOPY_REFERENCE_HANG
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('GOPY') AND O.NAME = 'FK_GOPY_REFERENCE_KHACHHAN')
ALTER TABLE GOPY
   DROP CONSTRAINT FK_GOPY_REFERENCE_KHACHHAN
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('HANG') AND O.NAME = 'FK_HANG_REFERENCE_NHANVIEN')
ALTER TABLE HANG
   DROP CONSTRAINT FK_HANG_REFERENCE_NHANVIEN
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('HANGLOI') AND O.NAME = 'FK_HANGLOI_REFERENCE_HANG')
ALTER TABLE HANGLOI
   DROP CONSTRAINT FK_HANGLOI_REFERENCE_HANG
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('HOADONBANHANG') AND O.NAME = 'FK_HOADONBA_REFERENCE_KHACHHAN')
ALTER TABLE HOADONBANHANG
   DROP CONSTRAINT FK_HOADONBA_REFERENCE_KHACHHAN
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('HOADONBANHANG') AND O.NAME = 'FK_HOADONBA_REFERENCE_NHANVIEN1')
ALTER TABLE HOADONBANHANG
   DROP CONSTRAINT FK_HOADONBA_REFERENCE_NHANVIEN1
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('HOADONBANHANG') AND O.NAME = 'FK_HOADONBA_REFERENCE_NHANVIEN')
ALTER TABLE HOADONBANHANG
   DROP CONSTRAINT FK_HOADONBA_REFERENCE_NHANVIEN
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('HOADONBANHANG') AND O.NAME = 'FK_HOADONBA_REFERENCE_NHANVIEN2')
ALTER TABLE HOADONBANHANG
   DROP CONSTRAINT FK_HOADONBA_REFERENCE_NHANVIEN2
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('LICHSUQUANGCAO') AND O.NAME = 'FK_LICHSUQU_REFERENCE_KHACHHAN')
ALTER TABLE LICHSUQUANGCAO
   DROP CONSTRAINT FK_LICHSUQU_REFERENCE_KHACHHAN
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('LICHSUQUANGCAO') AND O.NAME = 'FK_LICHSUQU_REFERENCE_HANG')
ALTER TABLE LICHSUQUANGCAO
   DROP CONSTRAINT FK_LICHSUQU_REFERENCE_HANG
go

IF EXISTS (SELECT 1
   FROM SYS.SYSREFERENCES R JOIN SYS.SYSOBJECTS O ON (O.ID = R.CONSTID AND O.TYPE = 'F')
   WHERE R.FKEYID = OBJECT_ID('LICHSUTANGQUA') AND O.NAME = 'FK_LICHSUTA_REFERENCE_KHACHHAN')
ALTER TABLE LICHSUTANGQUA
   DROP CONSTRAINT FK_LICHSUTA_REFERENCE_KHACHHAN
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('BANGTHONGKEGOPY')
            AND   TYPE = 'U')
   DROP TABLE BANGTHONGKEGOPY
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('CHITIETBANGTHONGKE')
            AND   TYPE = 'U')
   DROP TABLE CHITIETBANGTHONGKE
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('CHITIETDONNHAP')
            AND   TYPE = 'U')
   DROP TABLE CHITIETDONNHAP
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('CHITIETDONTRAHANG')
            AND   TYPE = 'U')
   DROP TABLE CHITIETDONTRAHANG
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('CHITIETHANGLOI')
            AND   TYPE = 'U')
   DROP TABLE CHITIETHANGLOI
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('CHITIETHOADON')
            AND   TYPE = 'U')
   DROP TABLE CHITIETHOADON
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('DOITACQUANGCAO')
            AND   TYPE = 'U')
   DROP TABLE DOITACQUANGCAO
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('DONNHAPHANG')
            AND   TYPE = 'U')
   DROP TABLE DONNHAPHANG
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('DONTRAHANG')
            AND   TYPE = 'U')
   DROP TABLE DONTRAHANG
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('GOPY')
            AND   TYPE = 'U')
   DROP TABLE GOPY
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('HANG')
            AND   TYPE = 'U')
   DROP TABLE HANG
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('HANGLOI')
            AND   TYPE = 'U')
   DROP TABLE HANGLOI
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('HOADONBANHANG')
            AND   TYPE = 'U')
   DROP TABLE HOADONBANHANG
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('KHACHHANG')
            AND   TYPE = 'U')
   DROP TABLE KHACHHANG
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('LICHSUQUANGCAO')
            AND   TYPE = 'U')
   DROP TABLE LICHSUQUANGCAO
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('LICHSUTANGQUA')
            AND   TYPE = 'U')
   DROP TABLE LICHSUTANGQUA
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('NHACUNGCAP')
            AND   TYPE = 'U')
   DROP TABLE NHACUNGCAP
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('NHANVIEN')
            AND   TYPE = 'U')
   DROP TABLE NHANVIEN
go
/*==============================================================*/
/* Table: BANGTHONGKEGOPY                                       */
/*==============================================================*/
CREATE TABLE BANGTHONGKEGOPY (
   MABANGTHONGKE        INT                  IDENTITY,
   MANVLAP              INT                  NULL,
   NGAYLAP              DATETIME             NULL,
   CONSTRAINT PK_BANGTHONGKEGOPY PRIMARY KEY (MABANGTHONGKE)
)
go

IF EXISTS (SELECT 1 FROM  SYS.EXTENDED_PROPERTIES
           WHERE MAJOR_ID = OBJECT_ID('BANGTHONGKEGOPY') AND MINOR_ID = 0)
BEGIN 
   DECLARE @CURRENTUSER SYSNAME 
SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description',  
   'user', @CURRENTUSER, 'table', 'BANGTHONGKEGOPY' 
 
END 


SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description',  
   'Bang Thong Ke Gop Y', 
   'user', @CURRENTUSER, 'table', 'BANGTHONGKEGOPY'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('BANGTHONGKEGOPY')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MABANGTHONGKE')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'BANGTHONGKEGOPY', 'column', 'MABANGTHONGKE'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Bang Thong Ke',
   'user', @CURRENTUSER, 'table', 'BANGTHONGKEGOPY', 'column', 'MABANGTHONGKE'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('BANGTHONGKEGOPY')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MANVLAP')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'BANGTHONGKEGOPY', 'column', 'MANVLAP'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Nv Lap',
   'user', @CURRENTUSER, 'table', 'BANGTHONGKEGOPY', 'column', 'MANVLAP'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('BANGTHONGKEGOPY')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'NGAYLAP')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'BANGTHONGKEGOPY', 'column', 'NGAYLAP'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ngay Lap',
   'user', @CURRENTUSER, 'table', 'BANGTHONGKEGOPY', 'column', 'NGAYLAP'
go

/*==============================================================*/
/* Table: CHITIETBANGTHONGKE                                    */
/*==============================================================*/
CREATE TABLE CHITIETBANGTHONGKE (
   MACHITIETBTK         INT IDENTITY(1,1)    NOT NULL,
   MABANGTHONGKE        INT                  NOT NULL,
   MAGOPY               INT                  NULL,
   CONSTRAINT PK_CHITIETBANGTHONGKE PRIMARY KEY (MACHITIETBTK, MABANGTHONGKE)
)
go

IF EXISTS (SELECT 1 FROM  SYS.EXTENDED_PROPERTIES
           WHERE MAJOR_ID = OBJECT_ID('CHITIETBANGTHONGKE') AND MINOR_ID = 0)
BEGIN 
   DECLARE @CURRENTUSER SYSNAME 
SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description',  
   'user', @CURRENTUSER, 'table', 'CHITIETBANGTHONGKE' 
 
END 


SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description',  
   'Chi Tiet Bang Thong Ke', 
   'user', @CURRENTUSER, 'table', 'CHITIETBANGTHONGKE'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETBANGTHONGKE')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MACHITIETBTK')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETBANGTHONGKE', 'column', 'MACHITIETBTK'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Chi Tiet Btk',
   'user', @CURRENTUSER, 'table', 'CHITIETBANGTHONGKE', 'column', 'MACHITIETBTK'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETBANGTHONGKE')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MABANGTHONGKE')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETBANGTHONGKE', 'column', 'MABANGTHONGKE'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Bang Thong Ke',
   'user', @CURRENTUSER, 'table', 'CHITIETBANGTHONGKE', 'column', 'MABANGTHONGKE'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETBANGTHONGKE')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MAGOPY')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETBANGTHONGKE', 'column', 'MAGOPY'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Gop Y',
   'user', @CURRENTUSER, 'table', 'CHITIETBANGTHONGKE', 'column', 'MAGOPY'
go

/*==============================================================*/
/* Table: CHITIETDONNHAP                                        */
/*==============================================================*/
CREATE TABLE CHITIETDONNHAP (
   MACHITIETDONNHAP     INT IDENTITY(1,1)    NOT NULL,
   MADONNHAP            INT                  NOT NULL,
   MAHANG               INT                  NULL,
   SOLUONGNHAP          INT                  NULL,
   CONSTRAINT PK_CHITIETDONNHAP PRIMARY KEY (MACHITIETDONNHAP, MADONNHAP)
)
go

IF EXISTS (SELECT 1 FROM  SYS.EXTENDED_PROPERTIES
           WHERE MAJOR_ID = OBJECT_ID('CHITIETDONNHAP') AND MINOR_ID = 0)
BEGIN 
   DECLARE @CURRENTUSER SYSNAME 
SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description',  
   'user', @CURRENTUSER, 'table', 'CHITIETDONNHAP' 
 
END 


SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description',  
   'Chi Tiet Don Nhap', 
   'user', @CURRENTUSER, 'table', 'CHITIETDONNHAP'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETDONNHAP')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MACHITIETDONNHAP')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETDONNHAP', 'column', 'MACHITIETDONNHAP'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Chi Tiet Don Nhap',
   'user', @CURRENTUSER, 'table', 'CHITIETDONNHAP', 'column', 'MACHITIETDONNHAP'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETDONNHAP')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MADONNHAP')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETDONNHAP', 'column', 'MADONNHAP'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Don Nhap',
   'user', @CURRENTUSER, 'table', 'CHITIETDONNHAP', 'column', 'MADONNHAP'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETDONNHAP')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MAHANG')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETDONNHAP', 'column', 'MAHANG'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Hang',
   'user', @CURRENTUSER, 'table', 'CHITIETDONNHAP', 'column', 'MAHANG'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETDONNHAP')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'SOLUONGNHAP')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETDONNHAP', 'column', 'SOLUONGNHAP'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'So Luong Nhap',
   'user', @CURRENTUSER, 'table', 'CHITIETDONNHAP', 'column', 'SOLUONGNHAP'
go

/*==============================================================*/
/* Table: CHITIETDONTRAHANG                                     */
/*==============================================================*/
CREATE TABLE CHITIETDONTRAHANG (
   MACHITIETDONTRA      INT IDENTITY(1,1)    NOT NULL,
   MADONTRA             INT                  NOT NULL,
   MAHANGLOI            INT                  NULL,
   SOLUONGTRA           INT                  NULL,
   LYDO                 NVARCHAR(MAX)        NULL,
   CONSTRAINT PK_CHITIETDONTRAHANG PRIMARY KEY (MACHITIETDONTRA, MADONTRA)
)
go

IF EXISTS (SELECT 1 FROM  SYS.EXTENDED_PROPERTIES
           WHERE MAJOR_ID = OBJECT_ID('CHITIETDONTRAHANG') AND MINOR_ID = 0)
BEGIN 
   DECLARE @CURRENTUSER SYSNAME 
SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description',  
   'user', @CURRENTUSER, 'table', 'CHITIETDONTRAHANG' 
 
END 


SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description',  
   'Chi Tiet Don Tra Hang', 
   'user', @CURRENTUSER, 'table', 'CHITIETDONTRAHANG'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETDONTRAHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MACHITIETDONTRA')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETDONTRAHANG', 'column', 'MACHITIETDONTRA'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Chi Tiet Don Tra',
   'user', @CURRENTUSER, 'table', 'CHITIETDONTRAHANG', 'column', 'MACHITIETDONTRA'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETDONTRAHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MADONTRA')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETDONTRAHANG', 'column', 'MADONTRA'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Don Tra',
   'user', @CURRENTUSER, 'table', 'CHITIETDONTRAHANG', 'column', 'MADONTRA'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETDONTRAHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MAHANGLOI')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETDONTRAHANG', 'column', 'MAHANGLOI'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Hang Loi',
   'user', @CURRENTUSER, 'table', 'CHITIETDONTRAHANG', 'column', 'MAHANGLOI'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETDONTRAHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'SOLUONGTRA')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETDONTRAHANG', 'column', 'SOLUONGTRA'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'So Luong Tra',
   'user', @CURRENTUSER, 'table', 'CHITIETDONTRAHANG', 'column', 'SOLUONGTRA'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETDONTRAHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'LYDO')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETDONTRAHANG', 'column', 'LYDO'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ly Do',
   'user', @CURRENTUSER, 'table', 'CHITIETDONTRAHANG', 'column', 'LYDO'
go

/*==============================================================*/
/* Table: CHITIETHANGLOI                                        */
/*==============================================================*/
CREATE TABLE CHITIETHANGLOI (
   MACHITIETHANGLOI     INT IDENTITY(1,1)    NOT NULL,
   MAHOADON             INT                  NOT NULL,
   MAHANGLOI            INT                  NULL,
   CONSTRAINT PK_CHITIETHANGLOI PRIMARY KEY (MAHOADON, MACHITIETHANGLOI)
)
go

IF EXISTS (SELECT 1 FROM  SYS.EXTENDED_PROPERTIES
           WHERE MAJOR_ID = OBJECT_ID('CHITIETHANGLOI') AND MINOR_ID = 0)
BEGIN 
   DECLARE @CURRENTUSER SYSNAME 
SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description',  
   'user', @CURRENTUSER, 'table', 'CHITIETHANGLOI' 
 
END 


SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description',  
   'Chi Tiet Hang Loi', 
   'user', @CURRENTUSER, 'table', 'CHITIETHANGLOI'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETHANGLOI')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MACHITIETHANGLOI')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETHANGLOI', 'column', 'MACHITIETHANGLOI'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Chi Tiet Hang Loi',
   'user', @CURRENTUSER, 'table', 'CHITIETHANGLOI', 'column', 'MACHITIETHANGLOI'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETHANGLOI')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MAHOADON')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETHANGLOI', 'column', 'MAHOADON'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Hoa Don',
   'user', @CURRENTUSER, 'table', 'CHITIETHANGLOI', 'column', 'MAHOADON'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETHANGLOI')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MAHANGLOI')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETHANGLOI', 'column', 'MAHANGLOI'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Hang Loi',
   'user', @CURRENTUSER, 'table', 'CHITIETHANGLOI', 'column', 'MAHANGLOI'
go

/*==============================================================*/
/* Table: CHITIETHOADON                                         */
/*==============================================================*/
CREATE TABLE CHITIETHOADON (
   MACHITIETHOADON      INT IDENTITY(1,1)    NOT NULL,
   MAHOADON             INT                  NOT NULL,
   MAHANG               INT                  NOT NULL,
   SOLUONG              INT                  NULL,
   CONSTRAINT PK_CHITIETHOADON PRIMARY KEY (MACHITIETHOADON, MAHOADON)
)
go

IF EXISTS (SELECT 1 FROM  SYS.EXTENDED_PROPERTIES
           WHERE MAJOR_ID = OBJECT_ID('CHITIETHOADON') AND MINOR_ID = 0)
BEGIN 
   DECLARE @CURRENTUSER SYSNAME 
SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description',  
   'user', @CURRENTUSER, 'table', 'CHITIETHOADON' 
 
END 


SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description',  
   'Chi Tiet Hoa Don', 
   'user', @CURRENTUSER, 'table', 'CHITIETHOADON'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETHOADON')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MACHITIETHOADON')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETHOADON', 'column', 'MACHITIETHOADON'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Chi Tiet Hoa Don',
   'user', @CURRENTUSER, 'table', 'CHITIETHOADON', 'column', 'MACHITIETHOADON'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETHOADON')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MAHOADON')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETHOADON', 'column', 'MAHOADON'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Hoa Don',
   'user', @CURRENTUSER, 'table', 'CHITIETHOADON', 'column', 'MAHOADON'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETHOADON')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MAHANG')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETHOADON', 'column', 'MAHANG'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Hang',
   'user', @CURRENTUSER, 'table', 'CHITIETHOADON', 'column', 'MAHANG'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('CHITIETHOADON')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'SOLUONG')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'CHITIETHOADON', 'column', 'SOLUONG'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'So Luong',
   'user', @CURRENTUSER, 'table', 'CHITIETHOADON', 'column', 'SOLUONG'
go

/*==============================================================*/
/* Table: DOITACQUANGCAO                                        */
/*==============================================================*/
CREATE TABLE DOITACQUANGCAO (
   MADOITAC             INT                  IDENTITY,
   TENDOITAC            TEXT                 NULL,
   NGAYKYHOPDONG        DATETIME             NULL,
   NGAYHETHAN           DATETIME             NULL,
   THONGTINVITRIDANG    TEXT                 NULL,
   NOIDUNG              TEXT                 NULL,
   CONSTRAINT PK_DOITACQUANGCAO PRIMARY KEY (MADOITAC)
)
go

IF EXISTS (SELECT 1 FROM  SYS.EXTENDED_PROPERTIES
           WHERE MAJOR_ID = OBJECT_ID('DOITACQUANGCAO') AND MINOR_ID = 0)
BEGIN 
   DECLARE @CURRENTUSER SYSNAME 
SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description',  
   'user', @CURRENTUSER, 'table', 'DOITACQUANGCAO' 
 
END 


SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description',  
   'Doi Tac Quang Cao', 
   'user', @CURRENTUSER, 'table', 'DOITACQUANGCAO'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('DOITACQUANGCAO')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MADOITAC')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'DOITACQUANGCAO', 'column', 'MADOITAC'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Doi Tac',
   'user', @CURRENTUSER, 'table', 'DOITACQUANGCAO', 'column', 'MADOITAC'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('DOITACQUANGCAO')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'TENDOITAC')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'DOITACQUANGCAO', 'column', 'TENDOITAC'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ten Doi Tac',
   'user', @CURRENTUSER, 'table', 'DOITACQUANGCAO', 'column', 'TENDOITAC'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('DOITACQUANGCAO')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'NGAYKYHOPDONG')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'DOITACQUANGCAO', 'column', 'NGAYKYHOPDONG'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ngay Ky Hop Dong',
   'user', @CURRENTUSER, 'table', 'DOITACQUANGCAO', 'column', 'NGAYKYHOPDONG'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('DOITACQUANGCAO')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'NGAYHETHAN')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'DOITACQUANGCAO', 'column', 'NGAYHETHAN'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ngay Het Han',
   'user', @CURRENTUSER, 'table', 'DOITACQUANGCAO', 'column', 'NGAYHETHAN'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('DOITACQUANGCAO')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'THONGTINVITRIDANG')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'DOITACQUANGCAO', 'column', 'THONGTINVITRIDANG'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Thong Tin Vi Tri Dang',
   'user', @CURRENTUSER, 'table', 'DOITACQUANGCAO', 'column', 'THONGTINVITRIDANG'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('DOITACQUANGCAO')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'NOIDUNG')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'DOITACQUANGCAO', 'column', 'NOIDUNG'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Noi Dung',
   'user', @CURRENTUSER, 'table', 'DOITACQUANGCAO', 'column', 'NOIDUNG'
go

/*==============================================================*/
/* Table: DONNHAPHANG                                           */
/*==============================================================*/
CREATE TABLE DONNHAPHANG (
   MADONNHAP            INT                  IDENTITY,
   MANV                 INT                  NULL,
   MANCC                INT                  NULL,
   TONGLUONGHANG        INT                  NULL,
   LYDONHAP             NVARCHAR(MAX)        NULL,
   NGAYNHAP             DATETIME             NULL,
   TRANGTHAIXACNHAN     BIT                  NULL,
   CONSTRAINT PK_DONNHAPHANG PRIMARY KEY (MADONNHAP)
)
go

IF EXISTS (SELECT 1 FROM  SYS.EXTENDED_PROPERTIES
           WHERE MAJOR_ID = OBJECT_ID('DONNHAPHANG') AND MINOR_ID = 0)
BEGIN 
   DECLARE @CURRENTUSER SYSNAME 
SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description',  
   'user', @CURRENTUSER, 'table', 'DONNHAPHANG' 
 
END 


SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description',  
   'Don Nhap Hang', 
   'user', @CURRENTUSER, 'table', 'DONNHAPHANG'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('DONNHAPHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MADONNHAP')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'DONNHAPHANG', 'column', 'MADONNHAP'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Don Nhap',
   'user', @CURRENTUSER, 'table', 'DONNHAPHANG', 'column', 'MADONNHAP'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('DONNHAPHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MANV')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'DONNHAPHANG', 'column', 'MANV'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Nv',
   'user', @CURRENTUSER, 'table', 'DONNHAPHANG', 'column', 'MANV'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('DONNHAPHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MANCC')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'DONNHAPHANG', 'column', 'MANCC'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Ncc',
   'user', @CURRENTUSER, 'table', 'DONNHAPHANG', 'column', 'MANCC'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('DONNHAPHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'TONGLUONGHANG')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'DONNHAPHANG', 'column', 'TONGLUONGHANG'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Tong Luong Hang',
   'user', @CURRENTUSER, 'table', 'DONNHAPHANG', 'column', 'TONGLUONGHANG'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('DONNHAPHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'LYDONHAP')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'DONNHAPHANG', 'column', 'LYDONHAP'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ly Do Nhap',
   'user', @CURRENTUSER, 'table', 'DONNHAPHANG', 'column', 'LYDONHAP'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('DONNHAPHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'NGAYNHAP')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'DONNHAPHANG', 'column', 'NGAYNHAP'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ngay Nhap',
   'user', @CURRENTUSER, 'table', 'DONNHAPHANG', 'column', 'NGAYNHAP'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('DONNHAPHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'TRANGTHAIXACNHAN')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'DONNHAPHANG', 'column', 'TRANGTHAIXACNHAN'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Trang Thai Xac Nhan',
   'user', @CURRENTUSER, 'table', 'DONNHAPHANG', 'column', 'TRANGTHAIXACNHAN'
go

/*==============================================================*/
/* Table: DONTRAHANG                                            */
/*==============================================================*/
CREATE TABLE DONTRAHANG (
   MADONTRA             INT                  IDENTITY,
   MANVLAP              INT                  NULL,
   MANCC                INT                  NULL,
   NGAYLAP              DATETIME             NULL,
   CONSTRAINT PK_DONTRAHANG PRIMARY KEY (MADONTRA)
)
go

IF EXISTS (SELECT 1 FROM  SYS.EXTENDED_PROPERTIES
           WHERE MAJOR_ID = OBJECT_ID('DONTRAHANG') AND MINOR_ID = 0)
BEGIN 
   DECLARE @CURRENTUSER SYSNAME 
SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description',  
   'user', @CURRENTUSER, 'table', 'DONTRAHANG' 
 
END 


SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description',  
   'Don Tra Hang', 
   'user', @CURRENTUSER, 'table', 'DONTRAHANG'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('DONTRAHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MADONTRA')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'DONTRAHANG', 'column', 'MADONTRA'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Don Tra',
   'user', @CURRENTUSER, 'table', 'DONTRAHANG', 'column', 'MADONTRA'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('DONTRAHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MANVLAP')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'DONTRAHANG', 'column', 'MANVLAP'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Nv Lap',
   'user', @CURRENTUSER, 'table', 'DONTRAHANG', 'column', 'MANVLAP'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('DONTRAHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MANCC')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'DONTRAHANG', 'column', 'MANCC'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Ncc',
   'user', @CURRENTUSER, 'table', 'DONTRAHANG', 'column', 'MANCC'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('DONTRAHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'NGAYLAP')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'DONTRAHANG', 'column', 'NGAYLAP'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ngay Lap',
   'user', @CURRENTUSER, 'table', 'DONTRAHANG', 'column', 'NGAYLAP'
go

/*==============================================================*/
/* Table: GOPY                                                  */
/*==============================================================*/
CREATE TABLE GOPY (
   MAGOPY               INT                  IDENTITY,
   MAHANG               INT                  NULL,
   MAKH                 INT                  NULL,
   NOIDUNG              NVARCHAR(MAX)        NULL,
   NGAYGOPY             DATETIME             NULL,
   FLAGXAU              BIT                  NULL,
   NGAYCHINHSUARECORD   DATETIME             NULL,
   CONSTRAINT PK_GOPY PRIMARY KEY (MAGOPY)
)
go

IF EXISTS (SELECT 1 FROM  SYS.EXTENDED_PROPERTIES
           WHERE MAJOR_ID = OBJECT_ID('GOPY') AND MINOR_ID = 0)
BEGIN 
   DECLARE @CURRENTUSER SYSNAME 
SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description',  
   'user', @CURRENTUSER, 'table', 'GOPY' 
 
END 


SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description',  
   'Gop Y', 
   'user', @CURRENTUSER, 'table', 'GOPY'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('GOPY')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MAGOPY')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'GOPY', 'column', 'MAGOPY'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Gop Y',
   'user', @CURRENTUSER, 'table', 'GOPY', 'column', 'MAGOPY'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('GOPY')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MAHANG')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'GOPY', 'column', 'MAHANG'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Hang',
   'user', @CURRENTUSER, 'table', 'GOPY', 'column', 'MAHANG'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('GOPY')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MAKH')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'GOPY', 'column', 'MAKH'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Kh',
   'user', @CURRENTUSER, 'table', 'GOPY', 'column', 'MAKH'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('GOPY')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'NOIDUNG')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'GOPY', 'column', 'NOIDUNG'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Noi Dung',
   'user', @CURRENTUSER, 'table', 'GOPY', 'column', 'NOIDUNG'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('GOPY')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'NGAYGOPY')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'GOPY', 'column', 'NGAYGOPY'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ngay Gop Y',
   'user', @CURRENTUSER, 'table', 'GOPY', 'column', 'NGAYGOPY'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('GOPY')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'FLAGXAU')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'GOPY', 'column', 'FLAGXAU'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Flag Xau',
   'user', @CURRENTUSER, 'table', 'GOPY', 'column', 'FLAGXAU'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('GOPY')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'NGAYCHINHSUARECORD')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'GOPY', 'column', 'NGAYCHINHSUARECORD'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ngay Chinh Sua Record',
   'user', @CURRENTUSER, 'table', 'GOPY', 'column', 'NGAYCHINHSUARECORD'
go

/*==============================================================*/
/* Table: HANG                                                  */
/*==============================================================*/
CREATE TABLE HANG (
   MAHANG               INT                  IDENTITY,
   MANVPHUTRACH         INT                  NULL,
   TENHANG              NVARCHAR(50)         NULL,
   SOLUONGCONLAI        INT                  NOT NULL,
   DONGIA               FLOAT                NULL,
   CONSTRAINT PK_HANG PRIMARY KEY (MAHANG)
)
go

IF EXISTS (SELECT 1 FROM  SYS.EXTENDED_PROPERTIES
           WHERE MAJOR_ID = OBJECT_ID('HANG') AND MINOR_ID = 0)
BEGIN 
   DECLARE @CURRENTUSER SYSNAME 
SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description',  
   'user', @CURRENTUSER, 'table', 'HANG' 
 
END 


SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description',  
   'Hang', 
   'user', @CURRENTUSER, 'table', 'HANG'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('HANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MAHANG')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'HANG', 'column', 'MAHANG'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Hang',
   'user', @CURRENTUSER, 'table', 'HANG', 'column', 'MAHANG'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('HANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MANVPHUTRACH')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'HANG', 'column', 'MANVPHUTRACH'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Nv Phu Trach',
   'user', @CURRENTUSER, 'table', 'HANG', 'column', 'MANVPHUTRACH'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('HANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'TENHANG')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'HANG', 'column', 'TENHANG'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ten Hang',
   'user', @CURRENTUSER, 'table', 'HANG', 'column', 'TENHANG'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('HANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'SOLUONGCONLAI')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'HANG', 'column', 'SOLUONGCONLAI'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'So Luong Con Lai',
   'user', @CURRENTUSER, 'table', 'HANG', 'column', 'SOLUONGCONLAI'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('HANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'DONGIA')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'HANG', 'column', 'DONGIA'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Don Gia',
   'user', @CURRENTUSER, 'table', 'HANG', 'column', 'DONGIA'
go

/*==============================================================*/
/* Table: HANGLOI                                               */
/*==============================================================*/
CREATE TABLE HANGLOI (
   MAHANGLOI            INT                  IDENTITY,
   SOLUONG              INT                  NULL,
   CONSTRAINT PK_HANGLOI PRIMARY KEY (MAHANGLOI)
)
go

IF EXISTS (SELECT 1 FROM  SYS.EXTENDED_PROPERTIES
           WHERE MAJOR_ID = OBJECT_ID('HANGLOI') AND MINOR_ID = 0)
BEGIN 
   DECLARE @CURRENTUSER SYSNAME 
SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description',  
   'user', @CURRENTUSER, 'table', 'HANGLOI' 
 
END 


SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description',  
   'Hang Loi', 
   'user', @CURRENTUSER, 'table', 'HANGLOI'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('HANGLOI')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MAHANGLOI')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'HANGLOI', 'column', 'MAHANGLOI'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Hang Loi',
   'user', @CURRENTUSER, 'table', 'HANGLOI', 'column', 'MAHANGLOI'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('HANGLOI')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'SOLUONG')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'HANGLOI', 'column', 'SOLUONG'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'So Luong',
   'user', @CURRENTUSER, 'table', 'HANGLOI', 'column', 'SOLUONG'
go

/*==============================================================*/
/* Table: HOADONBANHANG                                         */
/*==============================================================*/
CREATE TABLE HOADONBANHANG (
   MAHOADON             INT                  IDENTITY,
   MAKH                 INT                  NULL,
   MANVLAP              INT                  NULL,
   MANVGIAO             INT                  NULL,
   MANVXACTHUC          INT                  NULL,
   TONGTIEN             FLOAT                NULL,
   HINHTHUCTHANHTOAN    BIT                  NULL,
   XACNHANDATHANHTOAN   BIT                  NULL,
   NGAYGIAO             DATETIME             NULL,
   SOTIENTHANHTOAN      FLOAT                NULL,
   NGAYLAPHOADON		DATETIME			 NULL,
   CONSTRAINT PK_HOADONBANHANG PRIMARY KEY (MAHOADON)
)
go

IF EXISTS (SELECT 1 FROM  SYS.EXTENDED_PROPERTIES
           WHERE MAJOR_ID = OBJECT_ID('HOADONBANHANG') AND MINOR_ID = 0)
BEGIN 
   DECLARE @CURRENTUSER SYSNAME 
SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description',  
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG' 
 
END 


SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description',  
   'Hoa Don Ban Hang', 
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('HOADONBANHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MAHOADON')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'MAHOADON'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Hoa Don',
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'MAHOADON'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('HOADONBANHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MAKH')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'MAKH'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Kh',
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'MAKH'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('HOADONBANHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MANVLAP')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'MANVLAP'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Nv Lap',
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'MANVLAP'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('HOADONBANHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MANVGIAO')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'MANVGIAO'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Nv Giao',
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'MANVGIAO'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('HOADONBANHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MANVXACTHUC')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'MANVXACTHUC'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Nv Xac Thuc',
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'MANVXACTHUC'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('HOADONBANHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'TONGTIEN')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'TONGTIEN'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Tong Tien',
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'TONGTIEN'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('HOADONBANHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'HINHTHUCTHANHTOAN')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'HINHTHUCTHANHTOAN'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Hinh Thuc Thanh Toan',
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'HINHTHUCTHANHTOAN'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('HOADONBANHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'XACNHANDATHANHTOAN')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'XACNHANDATHANHTOAN'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Xac Nhan Da Thanh Toan',
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'XACNHANDATHANHTOAN'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('HOADONBANHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'NGAYGIAO')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'NGAYGIAO'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ngay Giao Hang',
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'NGAYGIAO'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('HOADONBANHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'SOTIENTHANHTOAN')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'SOTIENTHANHTOAN'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'So Tien Thanh Toan',
   'user', @CURRENTUSER, 'table', 'HOADONBANHANG', 'column', 'SOTIENTHANHTOAN'
go

/*==============================================================*/
/* Table: KHACHHANG                                             */
/*==============================================================*/
CREATE TABLE KHACHHANG (
   MAKH                 INT                  IDENTITY,
   TENKH                NVARCHAR(MAX)        NULL,
   EMAILKH              NVARCHAR(30)         NULL,
   DIACHIKH             TEXT                 NULL,
   TRANGTHAIKHOACOMMENT BIT                  NULL,
   CONSTRAINT PK_KHACHHANG PRIMARY KEY (MAKH)
)
go

IF EXISTS (SELECT 1 FROM  SYS.EXTENDED_PROPERTIES
           WHERE MAJOR_ID = OBJECT_ID('KHACHHANG') AND MINOR_ID = 0)
BEGIN 
   DECLARE @CURRENTUSER SYSNAME 
SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description',  
   'user', @CURRENTUSER, 'table', 'KHACHHANG' 
 
END 


SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description',  
   'Khach Hang', 
   'user', @CURRENTUSER, 'table', 'KHACHHANG'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('KHACHHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MAKH')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'KHACHHANG', 'column', 'MAKH'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Kh',
   'user', @CURRENTUSER, 'table', 'KHACHHANG', 'column', 'MAKH'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('KHACHHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'TENKH')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'KHACHHANG', 'column', 'TENKH'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ten Kh',
   'user', @CURRENTUSER, 'table', 'KHACHHANG', 'column', 'TENKH'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('KHACHHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'EMAILKH')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'KHACHHANG', 'column', 'EMAILKH'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Email Kh',
   'user', @CURRENTUSER, 'table', 'KHACHHANG', 'column', 'EMAILKH'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('KHACHHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'DIACHIKH')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'KHACHHANG', 'column', 'DIACHIKH'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Dia Chi Kh',
   'user', @CURRENTUSER, 'table', 'KHACHHANG', 'column', 'DIACHIKH'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('KHACHHANG')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'TRANGTHAIKHOACOMMENT')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'KHACHHANG', 'column', 'TRANGTHAIKHOACOMMENT'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Trang Thai Khoa Comment',
   'user', @CURRENTUSER, 'table', 'KHACHHANG', 'column', 'TRANGTHAIKHOACOMMENT'
go

/*==============================================================*/
/* Table: LICHSUQUANGCAO                                        */
/*==============================================================*/
CREATE TABLE LICHSUQUANGCAO (
   MALSQC               INT                  IDENTITY,
   MAKH                 INT                  NULL,
   MAHANG               INT                  NULL,
   CONSTRAINT PK_LICHSUQUANGCAO PRIMARY KEY (MALSQC)
)
go

IF EXISTS (SELECT 1 FROM  SYS.EXTENDED_PROPERTIES
           WHERE MAJOR_ID = OBJECT_ID('LICHSUQUANGCAO') AND MINOR_ID = 0)
BEGIN 
   DECLARE @CURRENTUSER SYSNAME 
SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description',  
   'user', @CURRENTUSER, 'table', 'LICHSUQUANGCAO' 
 
END 


SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description',  
   'Lich Su Quang Cao', 
   'user', @CURRENTUSER, 'table', 'LICHSUQUANGCAO'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('LICHSUQUANGCAO')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MALSQC')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'LICHSUQUANGCAO', 'column', 'MALSQC'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Lsqc',
   'user', @CURRENTUSER, 'table', 'LICHSUQUANGCAO', 'column', 'MALSQC'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('LICHSUQUANGCAO')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MAKH')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'LICHSUQUANGCAO', 'column', 'MAKH'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Kh',
   'user', @CURRENTUSER, 'table', 'LICHSUQUANGCAO', 'column', 'MAKH'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('LICHSUQUANGCAO')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MAHANG')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'LICHSUQUANGCAO', 'column', 'MAHANG'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Hang',
   'user', @CURRENTUSER, 'table', 'LICHSUQUANGCAO', 'column', 'MAHANG'
go

/*==============================================================*/
/* Table: LICHSUTANGQUA                                         */
/*==============================================================*/
CREATE TABLE LICHSUTANGQUA (
   MALICHSU             INT                  IDENTITY,
   MAKH                 INT                  NULL,
   SOLUONGGOPYTOT       INT                  NULL,
   NGAYTANG             DATETIME             NULL,
   TRANGTHAITANG        TEXT                 NULL,
   CONSTRAINT PK_LICHSUTANGQUA PRIMARY KEY (MALICHSU)
)
go

IF EXISTS (SELECT 1 FROM  SYS.EXTENDED_PROPERTIES
           WHERE MAJOR_ID = OBJECT_ID('LICHSUTANGQUA') AND MINOR_ID = 0)
BEGIN 
   DECLARE @CURRENTUSER SYSNAME 
SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description',  
   'user', @CURRENTUSER, 'table', 'LICHSUTANGQUA' 
 
END 


SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description',  
   'Lich Su Tang Qua', 
   'user', @CURRENTUSER, 'table', 'LICHSUTANGQUA'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('LICHSUTANGQUA')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MALICHSU')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'LICHSUTANGQUA', 'column', 'MALICHSU'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Lich Su',
   'user', @CURRENTUSER, 'table', 'LICHSUTANGQUA', 'column', 'MALICHSU'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('LICHSUTANGQUA')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MAKH')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'LICHSUTANGQUA', 'column', 'MAKH'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Kh',
   'user', @CURRENTUSER, 'table', 'LICHSUTANGQUA', 'column', 'MAKH'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('LICHSUTANGQUA')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'SOLUONGGOPYTOT')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'LICHSUTANGQUA', 'column', 'SOLUONGGOPYTOT'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'So Luong Gop Y Tot',
   'user', @CURRENTUSER, 'table', 'LICHSUTANGQUA', 'column', 'SOLUONGGOPYTOT'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('LICHSUTANGQUA')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'NGAYTANG')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'LICHSUTANGQUA', 'column', 'NGAYTANG'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ngay Tang',
   'user', @CURRENTUSER, 'table', 'LICHSUTANGQUA', 'column', 'NGAYTANG'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('LICHSUTANGQUA')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'TRANGTHAITANG')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'LICHSUTANGQUA', 'column', 'TRANGTHAITANG'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Trang Thai Tang',
   'user', @CURRENTUSER, 'table', 'LICHSUTANGQUA', 'column', 'TRANGTHAITANG'
go

/*==============================================================*/
/* Table: NHACUNGCAP                                            */
/*==============================================================*/
CREATE TABLE NHACUNGCAP (
   MANCC                INT                  IDENTITY(1, 1),
   TENNCC               TEXT                 NULL,
   CONSTRAINT PK_NHACUNGCAP PRIMARY KEY (MANCC)
)
go

IF EXISTS (SELECT 1 FROM  SYS.EXTENDED_PROPERTIES
           WHERE MAJOR_ID = OBJECT_ID('NHACUNGCAP') AND MINOR_ID = 0)
BEGIN 
   DECLARE @CURRENTUSER SYSNAME 
SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description',  
   'user', @CURRENTUSER, 'table', 'NHACUNGCAP' 
 
END 


SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description',  
   'Nha Cung Cap', 
   'user', @CURRENTUSER, 'table', 'NHACUNGCAP'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('NHACUNGCAP')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MANCC')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'NHACUNGCAP', 'column', 'MANCC'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Ncc',
   'user', @CURRENTUSER, 'table', 'NHACUNGCAP', 'column', 'MANCC'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('NHACUNGCAP')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'TENNCC')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'NHACUNGCAP', 'column', 'TENNCC'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ten Ncc',
   'user', @CURRENTUSER, 'table', 'NHACUNGCAP', 'column', 'TENNCC'
go

/*==============================================================*/
/* Table: NHANVIEN                                              */
/*==============================================================*/
CREATE TABLE NHANVIEN (
   MANV                 INT                  IDENTITY,
   LOAINV               INT                  NULL,
   TENNV                NVARCHAR(50)         NULL,
   TENDANGNHAP          VARCHAR(20)          NULL,
   MATKHAU              VARCHAR(20)          NULL,
   CONSTRAINT PK_NHANVIEN PRIMARY KEY (MANV)
)
go

IF EXISTS (SELECT 1 FROM  SYS.EXTENDED_PROPERTIES
           WHERE MAJOR_ID = OBJECT_ID('NHANVIEN') AND MINOR_ID = 0)
BEGIN 
   DECLARE @CURRENTUSER SYSNAME 
SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description',  
   'user', @CURRENTUSER, 'table', 'NHANVIEN' 
 
END 


SELECT @CURRENTUSER = USER_NAME() 
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description',  
   'Nhan Vien', 
   'user', @CURRENTUSER, 'table', 'NHANVIEN'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('NHANVIEN')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MANV')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'NHANVIEN', 'column', 'MANV'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ma Nv',
   'user', @CURRENTUSER, 'table', 'NHANVIEN', 'column', 'MANV'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('NHANVIEN')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'LOAINV')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'NHANVIEN', 'column', 'LOAINV'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Loai Nv',
   'user', @CURRENTUSER, 'table', 'NHANVIEN', 'column', 'LOAINV'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('NHANVIEN')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'TENNV')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'NHANVIEN', 'column', 'TENNV'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ten Nv',
   'user', @CURRENTUSER, 'table', 'NHANVIEN', 'column', 'TENNV'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('NHANVIEN')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'TENDANGNHAP')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'NHANVIEN', 'column', 'TENDANGNHAP'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Ten Dang Nhap',
   'user', @CURRENTUSER, 'table', 'NHANVIEN', 'column', 'TENDANGNHAP'
go

IF EXISTS(SELECT 1 FROM SYS.EXTENDED_PROPERTIES P WHERE
      P.MAJOR_ID = OBJECT_ID('NHANVIEN')
  AND P.MINOR_ID = (SELECT C.COLUMN_ID FROM SYS.COLUMNS C WHERE C.OBJECT_ID = P.MAJOR_ID AND C.NAME = 'MATKHAU')
)
BEGIN
   DECLARE @CURRENTUSER SYSNAME
SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_DROPEXTENDEDPROPERTY 'MS_Description', 
   'user', @CURRENTUSER, 'table', 'NHANVIEN', 'column', 'MATKHAU'

END


SELECT @CURRENTUSER = USER_NAME()
EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   'Mat Khau',
   'user', @CURRENTUSER, 'table', 'NHANVIEN', 'column', 'MATKHAU'
go

ALTER TABLE BANGTHONGKEGOPY
   ADD CONSTRAINT FK_BANGTHON_REFERENCE_NHANVIEN FOREIGN KEY (MANVLAP)
      REFERENCES NHANVIEN (MANV)
go

ALTER TABLE CHITIETBANGTHONGKE
   ADD CONSTRAINT FK_CHITIETB_REFERENCE_BANGTHON FOREIGN KEY (MABANGTHONGKE)
      REFERENCES BANGTHONGKEGOPY (MABANGTHONGKE)
go

ALTER TABLE CHITIETBANGTHONGKE
   ADD CONSTRAINT FK_CHITIETB_REFERENCE_GOPY FOREIGN KEY (MAGOPY)
      REFERENCES GOPY (MAGOPY)
go

ALTER TABLE CHITIETDONNHAP
   ADD CONSTRAINT FK_CHITIETD_REFERENCE_DONNHAPH FOREIGN KEY (MADONNHAP)
      REFERENCES DONNHAPHANG (MADONNHAP)
go

ALTER TABLE CHITIETDONNHAP
   ADD CONSTRAINT FK_CHITIETD_REFERENCE_HANG FOREIGN KEY (MAHANG)
      REFERENCES HANG (MAHANG)
go

ALTER TABLE CHITIETDONTRAHANG
   ADD CONSTRAINT FK_CHITIETD_REFERENCE_HANGLOI FOREIGN KEY (MAHANGLOI)
      REFERENCES HANGLOI (MAHANGLOI)
go

ALTER TABLE CHITIETDONTRAHANG
   ADD CONSTRAINT FK_CHITIETD_REFERENCE_DONTRAHA FOREIGN KEY (MADONTRA)
      REFERENCES DONTRAHANG (MADONTRA)
go

ALTER TABLE CHITIETHANGLOI
   ADD CONSTRAINT FK_CHITIETHANGLOI_REFERENCE_HOADONBANHANG FOREIGN KEY (MAHOADON)
      REFERENCES HOADONBANHANG (MAHOADON)
go

ALTER TABLE CHITIETHANGLOI
   ADD CONSTRAINT FK_CHITIETH_REFERENCE_HANGLOI FOREIGN KEY (MAHANGLOI)
      REFERENCES HANGLOI (MAHANGLOI)
go

ALTER TABLE CHITIETHOADON
   ADD CONSTRAINT FK_CHITIETH_REFERENCE_HANG FOREIGN KEY (MAHANG)
      REFERENCES HANG (MAHANG)
go

ALTER TABLE CHITIETHOADON
   ADD CONSTRAINT FK_CHITIETHOADON_REFERENCE_HOADONBANHANG FOREIGN KEY (MAHOADON)
      REFERENCES HOADONBANHANG (MAHOADON)
go

ALTER TABLE DONNHAPHANG
   ADD CONSTRAINT FK_DONNHAPH_REFERENCE_NHANVIEN FOREIGN KEY (MANV)
      REFERENCES NHANVIEN (MANV)
go

ALTER TABLE DONNHAPHANG
   ADD CONSTRAINT FK_DONNHAPH_REFERENCE_NHACUNGC FOREIGN KEY (MANCC)
      REFERENCES NHACUNGCAP (MANCC)
go

ALTER TABLE DONTRAHANG
   ADD CONSTRAINT FK_DONTRAHA_REFERENCE_NHACUNGC FOREIGN KEY (MANCC)
      REFERENCES NHACUNGCAP (MANCC)
go

ALTER TABLE DONTRAHANG
   ADD CONSTRAINT FK_DONTRAHA_REFERENCE_NHANVIEN FOREIGN KEY (MANVLAP)
      REFERENCES NHANVIEN (MANV)
go

ALTER TABLE GOPY
   ADD CONSTRAINT FK_GOPY_REFERENCE_HANG FOREIGN KEY (MAHANG)
      REFERENCES HANG (MAHANG)
go

ALTER TABLE GOPY
   ADD CONSTRAINT FK_GOPY_REFERENCE_KHACHHAN FOREIGN KEY (MAKH)
      REFERENCES KHACHHANG (MAKH)
go

ALTER TABLE HANG
   ADD CONSTRAINT FK_HANG_REFERENCE_NHANVIEN FOREIGN KEY (MANVPHUTRACH)
      REFERENCES NHANVIEN (MANV)
go

ALTER TABLE HANGLOI
   ADD CONSTRAINT FK_HANGLOI_REFERENCE_HANG FOREIGN KEY (MAHANGLOI)
      REFERENCES HANG (MAHANG)
go

ALTER TABLE HOADONBANHANG
   ADD CONSTRAINT FK_HOADONBA_REFERENCE_KHACHHAN FOREIGN KEY (MAKH)
      REFERENCES KHACHHANG (MAKH)
go

ALTER TABLE HOADONBANHANG
   ADD CONSTRAINT FK_HOADONBA_REFERENCE_NHANVIEN1 FOREIGN KEY (MANVGIAO)
      REFERENCES NHANVIEN (MANV)
go

ALTER TABLE HOADONBANHANG
   ADD CONSTRAINT FK_HOADONBA_REFERENCE_NHANVIEN FOREIGN KEY (MANVLAP)
      REFERENCES NHANVIEN (MANV)
go

ALTER TABLE HOADONBANHANG
   ADD CONSTRAINT FK_HOADONBA_REFERENCE_NHANVIEN2 FOREIGN KEY (MANVXACTHUC)
      REFERENCES NHANVIEN (MANV)
go

ALTER TABLE LICHSUQUANGCAO
   ADD CONSTRAINT FK_LICHSUQU_REFERENCE_KHACHHAN FOREIGN KEY (MAKH)
      REFERENCES KHACHHANG (MAKH)
go

ALTER TABLE LICHSUQUANGCAO
   ADD CONSTRAINT FK_LICHSUQU_REFERENCE_HANG FOREIGN KEY (MAHANG)
      REFERENCES HANG (MAHANG)
go

ALTER TABLE LICHSUTANGQUA
   ADD CONSTRAINT FK_LICHSUTA_REFERENCE_KHACHHAN FOREIGN KEY (MAKH)
      REFERENCES KHACHHANG (MAKH)
go


--DROP DATA
DELETE FROM CHITIETDONTRAHANG
GO


DELETE FROM CHITIETDONNHAP
GO


DELETE FROM DOITACQUANGCAO
GO


DELETE FROM HANGLOI
GO


DELETE FROM LICHSUQUANGCAO
GO


DELETE FROM DONNHAPHANG
GO


DELETE FROM CHITIETBANGTHONGKE
GO


DELETE FROM GOPY
GO


DELETE FROM CHITIETHOADON
GO


DELETE FROM HANG
GO


DELETE FROM LICHSUTANGQUA
GO


DELETE FROM BANGTHONGKEGOPY
GO


DELETE FROM HOADONBANHANG
GO


DELETE FROM DONTRAHANG
GO


DELETE FROM NHACUNGCAP
GO


DELETE FROM NHANVIEN
GO


DELETE FROM KHACHHANG
GO


DELETE FROM CHITIETHANGLOI
GO


/*==============================================================*/
/* Generate test data for the table "Khach Hang".               */
/*==============================================================*/
SET IDENTITY_INSERT KHACHHANG  OFF;
SET IDENTITY_INSERT KHACHHANG  ON;


INSERT INTO KHACHHANG (MAKH, TENKH, EMAILKH, DIACHIKH, TRANGTHAIKHOACOMMENT) VALUES (3, N'NGUYỄN VĂN A', 'NVA@GVN.VZ', 'NQMYCFCPK2CMKUNYEJL5BGO2FEAKQ5PF326NUYPEFQRVND503AFF3XTE2GHIFNWRWPRGFU WMSOAYWKMBY67H90E7H1BYHK3JH4DEGISVEXR5PAT96XGR 3UR3JDEL67U0OFYDL29JY5TDV4HJH83S121LA1T6EF6OHM9JVCAUUFDP3M 96KKS VR28T3Q0L5NA1A40PWVEI9US 6F3K388N0EW620Y3XXFT0KVTEW FP7 BUWXCMS6BDAMLG2E', 0)
GO


INSERT INTO KHACHHANG (MAKH, TENKH, EMAILKH, DIACHIKH, TRANGTHAIKHOACOMMENT) VALUES (5, N'BÀNH THỊ B', 'B2B@VN.COZ', 'V 7 38MITIXQ6WHWB6B22WAHAQ59LX8KB70N0OA3GEVBS MV6T1HWNXWKG8DS13VHYNQR2W YLA6EWVDOSAX3G4BNAJ6R7JXTX79MV1N11MC2LR32I1OVULTJDVK4TSGD9JXTMKQ230I V4U5S2QH7EMTAS1K48DRHA0NMN2UJG2BG1L9VURBWR5L NTRBNO1KVHG7OLPIPY8YWGAFQ2M3BXHTLPFF0LUTJ0KIDGLL9X0WBQMITKU VMNLJ8CIO', 1)
GO


INSERT INTO KHACHHANG (MAKH, TENKH, EMAILKH, DIACHIKH, TRANGTHAIKHOACOMMENT) VALUES (6, N'NGUYỄN VĂN B', 'BNGV@VN.COZ', 'IC 7UENQWVSG9XQ9U6J XCKK4RH6J9E5X9AP DL1EJGDX9TYFGEVEKSTE12 G1XCIT8KYX9UH2EUMDDV6EDYW JBO9D9FHRE4RT32JG YHTLKLLT1K4F03I18OR KIJPPCFF7PVKOBC SCIU20PA0FG8K421O0RYFGUHX04 POX9U13AHBOCQJVHBYH 6YV6KF8VI0RWA41F048SOLV5T09J90O86A6MM484SB7BRUH884P85HL2DH0KCQNYF0X', 0)
GO


INSERT INTO KHACHHANG (MAKH, TENKH, EMAILKH, DIACHIKH, TRANGTHAIKHOACOMMENT) VALUES (2, 'XI MINGZE', 'MZ.PRC.SU', 'T5YUEBJRGNHI91J6TM7L7CLEWO2T2B68LYWFSAEQUO9QVPWA0XFYG81M7IF0CWU62YFU1KJ7AMX642UIK3F6J6ITH9VJ9W4PN8IBRMQ9VJQCYQX8H8Y8X2SXWJW04P4OY0QHBMQVXIG21VUT4OBFVDNXY0LH0C1U0O6BUFCW5WGLVC8F2XDHE8WLIMJFRH1V TDC9HC3G5KMNOT85KHLBFCPKDVP0GCDF3JCAXN61W76F0C8KEJ99HWTHG8M6B8', 1)
GO


INSERT INTO KHACHHANG (MAKH, TENKH, EMAILKH, DIACHIKH, TRANGTHAIKHOACOMMENT) VALUES (0, 'SHINZO ABE', 'SABE@JP.COE', 'T4EAMEI4OEWAS 7LDRD GJGGJX9UUINYK5RUSVQO5B29BYQCIEKRKD4XARADGWTVYUBWYQO9YUJ42PPFEJ8DCPXBF864Y6RA6WERKU2VFBIDRCYPOFSUY7 L7SSU9V4MC7I6ITDIQCE2FUX4XMTQ0F SS72UNA58HYAH31L81TSSOVPJL 04GMB 8H50VJTNGNJJYOI3BXDNC 2Y2N8MQV39J DO1IO9628Q9OI8J50ATFGCM KEL0YPKA4RNV0', 0)
GO


INSERT INTO KHACHHANG (MAKH, TENKH, EMAILKH, DIACHIKH, TRANGTHAIKHOACOMMENT) VALUES (8, 'XI JINPING', 'XJ.PRC@CO.SU', 'MB7F GSKRJ6QWS9WQGP65AOCJ591QP2P8JFGPHKFU13P5EB66NSE1FA7VX3VIGBCPECOWN9FPO5B978NQ7FQU 09 I8JMQN3LCTQ2OYKK2 025DDK18VUGVU3GD43MVWKP1B9PJIOLEGTK 1SYYKTLJXH4KUIQI89SHC18NLCOLHC9Y0KPPV4PM6GV23Y  ADRUVJ9PRWK 01D3B4UVUMEEVCWFD1SCXNO52C3XOOG97RHWMP 3TPRY0KDKGXWL', 1)
GO


INSERT INTO KHACHHANG (MAKH, TENKH, EMAILKH, DIACHIKH, TRANGTHAIKHOACOMMENT) VALUES (9, 'ZHUGE LIANG', 'ZL.DWR@XY.COX', 'NSKPCMH9L3FFAXLO8LIB6C775GAJ4BIDLN9364MIHJHRQJ1J51RQKXLSMIMTFF77K L48028XHHU40OB F1WQI85B672I0 A2P90E3RQ7FAG6FNO34GJJLSITXT9PB8Q6MV4LN457UKQTBL3DH2Q49CWDB4OH7TCPPY60HXCIAY33QIPFYVTN1D1WWNUI0VP2VW5XYC0BCY78BTLK QGI4RJXAXKJL27D42CSY MJM10L6CGN3GI83UQO1BYJDF', 0)
GO


INSERT INTO KHACHHANG (MAKH, TENKH, EMAILKH, DIACHIKH, TRANGTHAIKHOACOMMENT) VALUES (7, 'SIMA YI', 'SY.DWR@XY.COX', '0DEO98WUEQQIRP1CWBRO6I5AR0V4EMAE3FSUQ1PDC1EM081E8RL1X719JGGIK0SS6ODOV2WCAB9II1 MLW40IB 8Q6HLD5WUQR733GH S438D43EW8 0Y Q5T0QE2M4843FY1FYX8KMS L6MS0TCLJNC2GYU64K1CP80ODE8QGO YSKIS1A9 FIJIN PFKTOB9S 8TGB8B2N854S2W5U0BPWXENQY  1N4AE8I81F9NE0C8IPP35UY5 Y5TL3KP', 1)
GO


INSERT INTO KHACHHANG (MAKH, TENKH, EMAILKH, DIACHIKH, TRANGTHAIKHOACOMMENT) VALUES (4, 'V', 'BLUE2313@GG.XY', 'RRQH7S4UHNVHRB26HWTMXRP6UVK42B9XDIU0 S91640ORHNM7J74GHG9XBJPFR 64WET1LRHX65MD17NR B46LIXMRS5PSP BF8P59WT17E4IJDHQOYMCDA715 WXPTIUM1T7A7HFKU791A4E7RVGMKY0BMM7C3MA1FJ9TQNQQG9T3FBM3AF6QMRW94BU1Q0U8XKIEWD744VLTNOYX239J10UXT9AOB4FSYUC7IDR9MY2WBJLBE OGUVLCY 6OW', 0)
GO


INSERT INTO KHACHHANG (MAKH, TENKH, EMAILKH, DIACHIKH, TRANGTHAIKHOACOMMENT) VALUES (1, 'JOHNNY SILVERHAND', 'JSILVERHAND@CP.CO.XY', '7KEVMAWT9YNLP I20GYNGIFHAJJNC9 T9GOXE1PFC2UPL5B210J 71XS QK EG2Y3XD80EBEQ FEDLMT9HPH5OX IWJUKUYHAI7VJD27C7041G697OA6I 0R3FK6IP627DWTC4OOW 86X2AP320 UP76VBUO6DTQ AAW1YJ2S4SRNVSVYTPQVP4ONAJ2UFGXKS6WMCH2B6D02J1YMR74P1V43OVW K8HOYGJ9VWQGBQ BTYHOBETPW4TMG4NENU', 0)
GO
SET IDENTITY_INSERT KHACHHANG  OFF;


/*==============================================================*/
/* Generate test data for the table "Nhan Vien".                */
/*==============================================================*/
SET IDENTITY_INSERT NHANVIEN  OFF;
SET IDENTITY_INSERT NHANVIEN  ON;

INSERT INTO NHANVIEN (MANV, LOAINV, TENNV, TENDANGNHAP, MATKHAU) VALUES (7, 0, 'QUAN LY 001', 'NV1', '1234')--LOAINV = 0 => NHAN VIEN QUAN LY
GO


INSERT INTO NHANVIEN (MANV, LOAINV, TENNV, TENDANGNHAP, MATKHAU) VALUES (6, 0, 'QUAN LY 002', 'NV2', '1234')--LOAINV = 0 => NHAN VIEN QUAN LY
GO


INSERT INTO NHANVIEN (MANV, LOAINV, TENNV, TENDANGNHAP, MATKHAU) VALUES (3, 0, 'QUAN LY 003', 'NV3', '1234')--LOAINV = 0 => NHAN VIEN QUAN LY
GO


INSERT INTO NHANVIEN (MANV, LOAINV, TENNV, TENDANGNHAP, MATKHAU) VALUES (9, 1, 'BAN HANG 001', 'NV4', '1234')--LOAINV = 1 => NHAN VIEN BAN HANG
GO


INSERT INTO NHANVIEN (MANV, LOAINV, TENNV, TENDANGNHAP, MATKHAU) VALUES (4, 2, 'DANG TIN 001', 'NV5', '1234')--LOAINV = 2 => NHAN VIEN DANG TIN
GO


INSERT INTO NHANVIEN (MANV, LOAINV, TENNV, TENDANGNHAP, MATKHAU) VALUES (8, 3, 'QUANG CAO 001', 'NV6', '1234')--LOAINV = 3 => NHAN VIEN QUANG CAO
GO


INSERT INTO NHANVIEN (MANV, LOAINV, TENNV, TENDANGNHAP, MATKHAU) VALUES (0, 4, 'THU QUY 001', 'NV7', '1234')--LOAINV = 4 => THU QUY
GO


INSERT INTO NHANVIEN (MANV, LOAINV, TENNV, TENDANGNHAP, MATKHAU) VALUES (5, 1, 'BAN HANG 002', 'NV8', '1234')--LOAINV = 1 => NHAN VIEN BAN HANG
GO


INSERT INTO NHANVIEN (MANV, LOAINV, TENNV, TENDANGNHAP, MATKHAU) VALUES (1, 1, 'BAN HANG 003', 'NV9', '1234')--LOAINV = 1 => NHAN VIEN BAN HANG
GO


INSERT INTO NHANVIEN (MANV, LOAINV, TENNV, TENDANGNHAP, MATKHAU) VALUES (2, 1, 'TOMMY VERCETTI', 'NV10', '1234')--LOAINV = 1 => NHAN VIEN BAN HANG
GO

INSERT INTO NHANVIEN (MANV, LOAINV, TENNV, TENDANGNHAP, MATKHAU) VALUES (10, 5, 'Giao Hang A', 'NV11', '1234')--LOAINV = 5 => NHAN VIEN GIAO HANG
GO
INSERT INTO NHANVIEN (MANV, LOAINV, TENNV, TENDANGNHAP, MATKHAU) VALUES (11, 5, 'Giao hang B', 'NV12', '1234')--LOAINV = 5 => NHAN VIEN giao HANG
GO


SET IDENTITY_INSERT NHANVIEN  OFF;

/*==============================================================*/
/* Generate test data for the table "Nha Cung Cap".             */
/*==============================================================*/
SET IDENTITY_INSERT NHACUNGCAP  OFF;
SET IDENTITY_INSERT NHACUNGCAP  ON;

INSERT INTO NHACUNGCAP (MANCC, TENNCC) VALUES (1, 'UNILEVER')
GO

INSERT INTO NHACUNGCAP (MANCC, TENNCC) VALUES (2, 'CONG TY TNHH VONG TRON DO')
GO

INSERT INTO NHACUNGCAP (MANCC, TENNCC) VALUES (0, 'TRUNG HUNG')
GO
SET IDENTITY_INSERT NHACUNGCAP  OFF;


/*==============================================================*/
/* Generate test data for the table "Don Tra Hang".             */
/*==============================================================*/
SET IDENTITY_INSERT DONTRAHANG  OFF;
SET IDENTITY_INSERT DONTRAHANG  ON;

INSERT INTO DONTRAHANG (MADONTRA, MANVLAP, MANCC, NGAYLAP) VALUES (0, 8, 0, '2020-7-24 3:52:38')
GO


INSERT INTO DONTRAHANG (MADONTRA, MANVLAP, MANCC, NGAYLAP) VALUES (2, 5, 2, '2020-1-1 0:0:0')
GO


INSERT INTO DONTRAHANG (MADONTRA, MANVLAP, MANCC, NGAYLAP) VALUES (1, 3, 2, '2020-8-26 2:23:16')
GO


INSERT INTO DONTRAHANG (MADONTRA, MANVLAP, MANCC, NGAYLAP) VALUES (3, 3, 1, '2020-8-11 1:55:16')
GO
SET IDENTITY_INSERT DONTRAHANG  OFF;

/*==============================================================*/
/* Generate test data for the table "Hoa Don Ban Hang".         */
/*==============================================================*/
SET IDENTITY_INSERT HOADONBANHANG  OFF;
SET IDENTITY_INSERT HOADONBANHANG  ON;

INSERT INTO HOADONBANHANG (MAHOADON, MAKH, MANVLAP, MANVGIAO, MANVXACTHUC, TONGTIEN, HINHTHUCTHANHTOAN, XACNHANDATHANHTOAN, NGAYGIAO, SOTIENTHANHTOAN, NGAYLAPHOADON) VALUES (3, 1, 8, 7, 3, 5211100.2, 1, 1, '2020-6-21 7:33:16', 3, GETDATE())
GO


INSERT INTO HOADONBANHANG (MAHOADON, MAKH, MANVLAP, MANVGIAO, MANVXACTHUC, TONGTIEN, HINHTHUCTHANHTOAN, XACNHANDATHANHTOAN, NGAYGIAO, SOTIENTHANHTOAN, NGAYLAPHOADON) VALUES (0, 7, 3, 6, 5, 500000.200, 0, 4, '2020-9-7 1:55:52', 1, GETDATE())
GO


INSERT INTO HOADONBANHANG (MAHOADON, MAKH, MANVLAP, MANVGIAO, MANVXACTHUC, TONGTIEN, HINHTHUCTHANHTOAN, XACNHANDATHANHTOAN, NGAYGIAO, SOTIENTHANHTOAN, NGAYLAPHOADON) VALUES (2, 3, 8, 7, 7, 5231.1, 2, 2, '2020-1-1 0:0:0', 5, GETDATE())
GO


INSERT INTO HOADONBANHANG (MAHOADON, MAKH, MANVLAP, MANVGIAO, MANVXACTHUC, TONGTIEN, HINHTHUCTHANHTOAN, XACNHANDATHANHTOAN, NGAYGIAO, SOTIENTHANHTOAN, NGAYLAPHOADON) VALUES (4, 5, 3, 4, 8, 666, 5, 5, '2020-12-13 4:12:56', 4, GETDATE())
GO


INSERT INTO HOADONBANHANG (MAHOADON, MAKH, MANVLAP, MANVGIAO, MANVXACTHUC, TONGTIEN, HINHTHUCTHANHTOAN, XACNHANDATHANHTOAN, NGAYGIAO, SOTIENTHANHTOAN, NGAYLAPHOADON) VALUES (5, 6, 3, 6, 3, 23410000.55, 3, 0, '2020-8-20 8:20:24', 0, GETDATE())
GO


INSERT INTO HOADONBANHANG (MAHOADON, MAKH, MANVLAP, MANVGIAO, MANVXACTHUC, TONGTIEN, HINHTHUCTHANHTOAN, XACNHANDATHANHTOAN, NGAYGIAO, SOTIENTHANHTOAN, NGAYLAPHOADON) VALUES (1, 0, 9, 0, 7, 9000000.53, 4, 3, '2020-6-25 5:33:4', 2, GETDATE())
GO
SET IDENTITY_INSERT HOADONBANHANG  OFF;


/*==============================================================*/
/* Generate test data for the table "Bang Thong Ke Gop Y".      */
/*==============================================================*/
SET IDENTITY_INSERT BANGTHONGKEGOPY  OFF;
SET IDENTITY_INSERT BANGTHONGKEGOPY  On;
INSERT INTO BANGTHONGKEGOPY (MABANGTHONGKE, MANVLAP, NGAYLAP) VALUES (1, 6, '2020-3-14 4:25:53')
GO


INSERT INTO BANGTHONGKEGOPY (MABANGTHONGKE, MANVLAP, NGAYLAP) VALUES (0, 7, '2018-1-1 0:0:0')
GO
SET IDENTITY_INSERT BANGTHONGKEGOPY  OFF;


/*==============================================================*/
/* Generate test data for the table "Lich Su Tang Qua".         */
/*==============================================================*/
SET IDENTITY_INSERT LICHSUTANGQUA  OFF;
SET IDENTITY_INSERT LICHSUTANGQUA  ON;

INSERT INTO LICHSUTANGQUA (MALICHSU, MAKH, SOLUONGGOPYTOT, NGAYTANG, TRANGTHAITANG) VALUES (0, 3, 7, '2020-5-17 4:25:3', 'KHACH CHUA NHAN')
GO


INSERT INTO LICHSUTANGQUA (MALICHSU, MAKH, SOLUONGGOPYTOT, NGAYTANG, TRANGTHAITANG) VALUES (5, 5, 1, '2020-5-2 7:11:45', 'TRAO QUA THANH CONG')
GO


INSERT INTO LICHSUTANGQUA (MALICHSU, MAKH, SOLUONGGOPYTOT, NGAYTANG, TRANGTHAITANG) VALUES (7, 5, 3, '2020-4-24 1:15:16', 'KHACH CHUA NHAN')
GO


INSERT INTO LICHSUTANGQUA (MALICHSU, MAKH, SOLUONGGOPYTOT, NGAYTANG, TRANGTHAITANG) VALUES (1, 4, 9, '2020-9-17 6:43:25', 'TRAO QUA THANH CONG')
GO


INSERT INTO LICHSUTANGQUA (MALICHSU, MAKH, SOLUONGGOPYTOT, NGAYTANG, TRANGTHAITANG) VALUES (2, 2, 0, '2020-7-8 7:49:33', 'TRAO QUA THANH CONG')
GO


INSERT INTO LICHSUTANGQUA (MALICHSU, MAKH, SOLUONGGOPYTOT, NGAYTANG, TRANGTHAITANG) VALUES (3, 4, 6, '2020-1-1 0:0:0', 'TRAO QUA THANH CONG')
GO


INSERT INTO LICHSUTANGQUA (MALICHSU, MAKH, SOLUONGGOPYTOT, NGAYTANG, TRANGTHAITANG) VALUES (9, 2, 8, '2020-6-28 3:9:1', 'KHACH CHUA NHAN')
GO


INSERT INTO LICHSUTANGQUA (MALICHSU, MAKH, SOLUONGGOPYTOT, NGAYTANG, TRANGTHAITANG) VALUES (8, 0, 2, '2020-7-31 2:10:55', 'KHACH CHUA NHAN')
GO


INSERT INTO LICHSUTANGQUA (MALICHSU, MAKH, SOLUONGGOPYTOT, NGAYTANG, TRANGTHAITANG) VALUES (6, 4, 5, '2020-7-2 4:59:54', 'TRAO QUA THANH CONG')
GO


INSERT INTO LICHSUTANGQUA (MALICHSU, MAKH, SOLUONGGOPYTOT, NGAYTANG, TRANGTHAITANG) VALUES (4, 8, 4, '2020-9-27 5:31:34', 'KHACH CHUA NHAN')
GO
SET IDENTITY_INSERT LICHSUTANGQUA  OFF;


/*==============================================================*/
/* Generate test data for the table "Hang".                     */
/*==============================================================*/
SET IDENTITY_INSERT HANG  OFF;
SET IDENTITY_INSERT HANG  ON;

INSERT INTO HANG (MAHANG, MANVPHUTRACH, TENHANG, SOLUONGCONLAI, DONGIA) VALUES (6, 1, 'NUOC RUA CHEN SUNLIGHT 200ML', 8, 1)
GO


INSERT INTO HANG (MAHANG, MANVPHUTRACH, TENHANG, SOLUONGCONLAI, DONGIA) VALUES (1, 1, 'GANG TAY CAO SU CASUMINA 2C', 6, 4)
GO


INSERT INTO HANG (MAHANG, MANVPHUTRACH, TENHANG, SOLUONGCONLAI, DONGIA) VALUES (7, 0, 'NUOC GIAT DOWNY HUONG HOA 1L', 4, 7)
GO


INSERT INTO HANG (MAHANG, MANVPHUTRACH, TENHANG, SOLUONGCONLAI, DONGIA) VALUES (4, 4, 'CAFE G7 HOP 50 GOI', 7, 5)
GO


INSERT INTO HANG (MAHANG, MANVPHUTRACH, TENHANG, SOLUONGCONLAI, DONGIA) VALUES (5, 0, 'BUT VIET BANG KIM LONG G-231 5.0MM', 3, 9)
GO


INSERT INTO HANG (MAHANG, MANVPHUTRACH, TENHANG, SOLUONGCONLAI, DONGIA) VALUES (2, 8, 'DAU GOI TRESSEME 500ML', 0, 3)
GO


INSERT INTO HANG (MAHANG, MANVPHUTRACH, TENHANG, SOLUONGCONLAI, DONGIA) VALUES (3, 4, 'CA HOP 3CO 200GR', 1, 8)
GO


INSERT INTO HANG (MAHANG, MANVPHUTRACH, TENHANG, SOLUONGCONLAI, DONGIA) VALUES (0, 7, 'MI AN LIEN INDOMIE VI SUON 200GR', 5, 6)
GO


INSERT INTO HANG (MAHANG, MANVPHUTRACH, TENHANG, SOLUONGCONLAI, DONGIA) VALUES (9, 4, 'TAP HOC SINH ABC 96 TRANG', 9, 0)
GO


INSERT INTO HANG (MAHANG, MANVPHUTRACH, TENHANG, SOLUONGCONLAI, DONGIA) VALUES (8, 0, 'KHAN GIAY TEMPO GOI 10 MIENG', 2, 2)
GO
SET IDENTITY_INSERT HANG  OFF;


/*==============================================================*/
/* Generate test data for the table "Chi Tiet Hoa Don".         */
/*==============================================================*/
INSERT INTO CHITIETHOADON (MAHOADON, MAHANG, SOLUONG) VALUES (3, 1, 2)
GO


INSERT INTO CHITIETHOADON (MAHOADON, MAHANG, SOLUONG) VALUES (3, 2, 2)
GO

DBCC CHECKIDENT (CHITIETHOADON, RESEED, 0);
INSERT INTO CHITIETHOADON (MAHOADON, MAHANG, SOLUONG) VALUES (0, 3, 16)
GO

DBCC CHECKIDENT (CHITIETHOADON, RESEED, 0);
INSERT INTO CHITIETHOADON (MAHOADON, MAHANG, SOLUONG) VALUES (2, 6, 9)
GO

DBCC CHECKIDENT (CHITIETHOADON, RESEED, 0);
INSERT INTO CHITIETHOADON (MAHOADON, MAHANG, SOLUONG) VALUES (4, 7, 4)
GO


DBCC CHECKIDENT (CHITIETHOADON, RESEED, 0);
INSERT INTO CHITIETHOADON (MAHOADON, MAHANG, SOLUONG) VALUES (5, 1, 10)
GO


DBCC CHECKIDENT (CHITIETHOADON, RESEED, 0);
INSERT INTO CHITIETHOADON (MAHOADON, MAHANG, SOLUONG) VALUES (1, 7, 8)
GO


/*==============================================================*/
/* Generate test data for the table "Gop Y".                    */
/*==============================================================*/
SET IDENTITY_INSERT GOPY  OFF;
SET IDENTITY_INSERT GOPY  ON;

INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (5, 6, 3, N'HANG RAT TOT, DANG TIEN', '2017-12-13 3:14:35', NULL, '2018-12-27 3:19:17')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (12, 6, 4, N'ASDASDSAD', '2017-9-1 5:19:21', 1, '2018-12-29 5:5:15')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (19, 2, 2, N'siêuuu NGON luôn nha😊', '2017-2-2 6:23:39', NULL, '2018-5-13 7:51:48')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (11, 3, 9, N'xinh lắm luônn >< giao hàng hơi lâu:(( nhưng vẫn 5*', '2017-3-26 1:32:41', 0, '2018-2-19 0:32:52')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (17, 7, 4, N'nhà bán hàng giao cho người vận chuyển rất lâu, tầm 1 tuần mới có hàng. Tôi phải ib shop để xử lý đơn hàng cho tôi. Cơ mà khi tôi ib thì shop trả lời rất lịch sự, tôi khá thích về sự lịch sự của shop. Còn về chất lượng sản phẩm thì ok, dùng rất thích.', '2017-11-10 4:28:24', NULL, '2018-1-1 0:0:0')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (4, 4, 0, N'quá tệ, hàng không giống như trên quảng cáo, quá tệ', '2017-1-29 3:44:28', NULL, '2018-2-12 7:1:5')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (13, 6, 6, N'rất đẹp như mong đợi 😍😍', '2017-12-29 4:58:15', NULL, '2018-11-9 2:50:8')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (6, 4, 6, N'Hàng cực kì, cực kì tốt luôn😗. Với lại còn dễ thương, mà còn giao hàng nhanh nữa. Mọi người hãy tin tưởng và mua hàng ở Shop này nhé.💙', '2017-1-1 0:0:0', NULL, '2018-6-30 5:50:23')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (0, 7, 6, N'sản phẩm giống như hình, đẹp😊nhưng có điều là shop nên cho chọn màu thì mình sẽ thích hơn là màu ngẫu nhiên 😉', '2017-5-9 2:35:43', NULL, '2018-1-11 2:35:24')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (16, 6, 2, N'ahhahahahhhha', '2017-4-17 6:6:45', NULL, '2018-3-18 4:13:14')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (7, 3, 4, N'ship hàng nhanh, date lâu hơn trên order. đóng gói chưa tốt lắm, thùng bị móp méo và ko chắc chắn, may ko ảnh hưởng đến chất lượng', '2017-2-12 0:32:12', NULL, '2018-2-14 1:27:39')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (8, 4, 7, N'ngon tuyệt . Các cháu nhỏ rất thích .,', '2017-1-19 1:58:58', NULL, '2018-2-9 6:30:39')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (9, 4, 9, N'HOHOHOHO CIV13QR5R3NWNUD8977C  HGYV84W1KF3ERFSMFC2A9U2W0M0F7C4XXB29JGRVJWA6EJKFM433R3LFSVGUJFTIFEM6F58TBCHFA2L2TAKK5YMIR RDWP15W4FJLE1 YXD8BIMIF DCSH87YB6BE3DB5BEQ44JGB2V8V60PPMIKIJ3O7F6ML82IX PMI2SDBJ MM3XQUV8YIQL1A7DPDK1AVHLOPSHWNDV3Q30L', '2017-8-4 7:37:27', NULL, '2018-6-14 1:59:2')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (15, 1, 3, N'¡COMA MIERDA!', '2017-12-3 6:54:3', NULL, '2018-3-23 7:18:46')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (1, 1, 5, N'Росси́я, другое официальное название — Росси́йская Федера́ция (РФ), — государство в Восточной Европе и Северной Азии.', '2017-8-18 4:1:29', NULL, '2018-6-22 1:1:6')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (2, 2, 4, N'đã mua nhiều lần, cực kỳ yên tâm ', '2017-5-30 7:15:29', NULL, '2018-7-30 6:5:4')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (18, 0, 3, N'中文百强网--国内外网站排名信息网，其中分为财经网站、娱乐网站、文学网站、传媒网站、综合网站、电子商务网站、电脑网络网站、社区服务网站等其他网站', '2017-6-3 4:43:30', NULL, '2018-4-2 5:31:43')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (3, 5, 4, N'C’est dans le 18e arrondissement de Paris que se trouve cette adresse devenue incontournable. Les plus grandes recettes de galettes et de crêpes y sont revisitées et les garnitures toujours généreuses et issus de l’agriculture biologique ! 100 % faits maison et sur commande, vous trouverez quelques spécialités comme une crêpe à la crème de châtaigne maison avec glace marron et chantilly ', '2017-6-7 7:58:40', NULL, '2018-6-7 3:35:43')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (10, 5, 9, N'Papá se da cuenta de que no soy la de siempre, pero no puedo contarle nada. ¡Dejadme tranquila, dejadme sola!: eso es lo que quisiera gritar todo el tiempo.', '2017-8-16 0:56:43', NULL, '2018-8-1 4:28:15')
GO


INSERT INTO GOPY (MAGOPY, MAHANG, MAKH, NOIDUNG, NGAYGOPY, FLAGXAU, NGAYCHINHSUARECORD) VALUES (14, 1, 6, N'¿Qué pasa? ¿Por qué hay tanto ruido? - Creo que los vecinos están dando una fiest?', '2017-3-10 5:49:6', 1, '2018-12-27 3:19:17')
GO
SET IDENTITY_INSERT GOPY  OFF;


/*==============================================================*/
/* Generate test data for the table "Chi Tiet Bang Thong Ke".   */
/*==============================================================*/
INSERT INTO CHITIETBANGTHONGKE (MABANGTHONGKE, MAGOPY) VALUES (1, 12)
GO

DBCC CHECKIDENT (CHITIETBANGTHONGKE, RESEED, 0);
INSERT INTO CHITIETBANGTHONGKE (MABANGTHONGKE, MAGOPY) VALUES (0, 11)
GO


INSERT INTO CHITIETBANGTHONGKE (MABANGTHONGKE, MAGOPY) VALUES (0, 14)
GO

/*==============================================================*/
/* Generate test data for the table "Don Nhap Hang".            */
/*==============================================================*/
SET IDENTITY_INSERT DONNHAPHANG  OFF;
SET IDENTITY_INSERT DONNHAPHANG  ON;

INSERT INTO DONNHAPHANG (MADONNHAP, MANV, MANCC, TONGLUONGHANG, LYDONHAP, NGAYNHAP, TRANGTHAIXACNHAN) VALUES (3, 4, 0, 4, N'thiếu hàng trầm trọng', '2019-1-1 0:0:0', 3)
GO


INSERT INTO DONNHAPHANG (MADONNHAP, MANV, MANCC, TONGLUONGHANG, LYDONHAP, NGAYNHAP, TRANGTHAIXACNHAN) VALUES (4, 7, 1, 5, N'nhu cầu tăng đột biến', '2019-8-29 8:3:31', 2)
GO


INSERT INTO DONNHAPHANG (MADONNHAP, MANV, MANCC, TONGLUONGHANG, LYDONHAP, NGAYNHAP, TRANGTHAIXACNHAN) VALUES (1, 4, 1, 2, N'nhập hàng định kỳ', '2019-5-4 2:3:28', 0)
GO


INSERT INTO DONNHAPHANG (MADONNHAP, MANV, MANCC, TONGLUONGHANG, LYDONHAP, NGAYNHAP, TRANGTHAIXACNHAN) VALUES (0, 9, 2, 1, N'nhập hàng định kỳ', '2019-11-10 4:26:43', 1)
GO


INSERT INTO DONNHAPHANG (MADONNHAP, MANV, MANCC, TONGLUONGHANG, LYDONHAP, NGAYNHAP, TRANGTHAIXACNHAN) VALUES (2, 4, 2, 3, N'thử nghiệm sản phẩm mới', '2019-9-15 6:19:58', 4)
GO
SET IDENTITY_INSERT DONNHAPHANG  OFF;

/*==============================================================*/
/* Generate test data for the table "Lich Su Quang Cao".        */
/*==============================================================*/
SET IDENTITY_INSERT LICHSUQUANGCAO  OFF;
SET IDENTITY_INSERT LICHSUQUANGCAO  ON;

INSERT INTO LICHSUQUANGCAO (MALSQC, MAKH, MAHANG) VALUES (7, 7, 7)
GO


INSERT INTO LICHSUQUANGCAO (MALSQC, MAKH, MAHANG) VALUES (4, 4, 1)
GO


INSERT INTO LICHSUQUANGCAO (MALSQC, MAKH, MAHANG) VALUES (2, 6, 4)
GO


INSERT INTO LICHSUQUANGCAO (MALSQC, MAKH, MAHANG) VALUES (1, 4, 0)
GO


INSERT INTO LICHSUQUANGCAO (MALSQC, MAKH, MAHANG) VALUES (0, 3, 7)
GO


INSERT INTO LICHSUQUANGCAO (MALSQC, MAKH, MAHANG) VALUES (5, 2, 6)
GO


INSERT INTO LICHSUQUANGCAO (MALSQC, MAKH, MAHANG) VALUES (9, 8, 9)
GO


INSERT INTO LICHSUQUANGCAO (MALSQC, MAKH, MAHANG) VALUES (6, 5, 7)
GO


INSERT INTO LICHSUQUANGCAO (MALSQC, MAKH, MAHANG) VALUES (8, 6, 3)
GO


INSERT INTO LICHSUQUANGCAO (MALSQC, MAKH, MAHANG) VALUES (3, 7, 0)
GO
SET IDENTITY_INSERT LICHSUQUANGCAO  OFF;


/*==============================================================*/
/* Generate test data for the table "Hang Loi".                 */
/*==============================================================*/
SET IDENTITY_INSERT HANGLOI  OFF;
SET IDENTITY_INSERT HANGLOI  ON;

INSERT INTO HANGLOI (MAHANGLOI, SOLUONG) VALUES (6, 7)
GO


INSERT INTO HANGLOI (MAHANGLOI, SOLUONG) VALUES (1, 1)
GO


INSERT INTO HANGLOI (MAHANGLOI, SOLUONG) VALUES (7, 3)
GO


INSERT INTO HANGLOI (MAHANGLOI, SOLUONG) VALUES (4, 8)
GO


INSERT INTO HANGLOI (MAHANGLOI, SOLUONG) VALUES (5, 2)
GO


INSERT INTO HANGLOI (MAHANGLOI, SOLUONG) VALUES (2, 9)
GO


INSERT INTO HANGLOI (MAHANGLOI, SOLUONG) VALUES (3, 4)
GO


INSERT INTO HANGLOI (MAHANGLOI, SOLUONG) VALUES (0, 6)
GO


INSERT INTO HANGLOI (MAHANGLOI, SOLUONG) VALUES (9, 1)
GO


INSERT INTO HANGLOI (MAHANGLOI, SOLUONG) VALUES (8, 5)
GO

SET IDENTITY_INSERT HANGLOI  OFF;

/*==============================================================*/
/* Generate test data for the table "Chi Tiet Hang Loi".        */
/*==============================================================*/
INSERT INTO CHITIETHANGLOI (MAHOADON, MAHANGLOI) VALUES (1, 3)
GO


INSERT INTO CHITIETHANGLOI (MAHOADON, MAHANGLOI) VALUES (1, 2)
GO


INSERT INTO CHITIETHANGLOI (MAHOADON, MAHANGLOI) VALUES (1, 1)
GO


DBCC CHECKIDENT (CHITIETHANGLOI, RESEED, 0);
INSERT INTO CHITIETHANGLOI (MAHOADON, MAHANGLOI) VALUES (0, 2)
GO


INSERT INTO CHITIETHANGLOI (MAHOADON, MAHANGLOI) VALUES (0, 3)
GO

DBCC CHECKIDENT (CHITIETHANGLOI, RESEED, 0);
INSERT INTO CHITIETHANGLOI (MAHOADON, MAHANGLOI) VALUES (2, 1)
GO


INSERT INTO CHITIETHANGLOI (MAHOADON, MAHANGLOI) VALUES (2, 2)
GO


INSERT INTO CHITIETHANGLOI (MAHOADON, MAHANGLOI) VALUES (2, 4)
GO


INSERT INTO CHITIETHANGLOI (MAHOADON, MAHANGLOI) VALUES (2, 5)
GO


INSERT INTO CHITIETHANGLOI (MAHOADON, MAHANGLOI) VALUES (2, 0)
GO


/*==============================================================*/
/* Generate test data for the table "Doi Tac Quang Cao".        */
/*==============================================================*/
SET IDENTITY_INSERT DOITACQUANGCAO  OFF;
SET IDENTITY_INSERT DOITACQUANGCAO  ON;

INSERT INTO DOITACQUANGCAO (MADOITAC, TENDOITAC, NGAYKYHOPDONG, NGAYHETHAN, THONGTINVITRIDANG, NOIDUNG) VALUES (2, 'QUANG CAO RONG XANH', '2019-1-1 0:0:0', '2020-9-8 3:2:55', 'AMRRM 54NDKWSXEDIBCH42DKT4DUACK1V44A5QOE8KEKH0X25 ECBRBTVNTY GBLEG62MLBDSEESH5J0BO5MOYSK2KSKRBIE8PVMQMXK0AH UDBB6EVSVW9O7N2M5NCA5SSH3AL3TF9LK0GJ5XGFH4CHJJ32KG2LCD4997IKPU01HPBT5VG5 FVUMLYTDY56FXSIND24HAMTEDGSHJ3JRXR6J0FXSR8IDOAWK0RFCBQG06LNV17A315GPPWFXN1', 'UYB1F567O61FBAII89XQ314UROJEN7UR3SA8QR9ESG4WT1RQVT3AN9L61DK8GU1DU U7MAQQ41L47R4NBWXFW3 C9AX5RP85PWX7FVJSC1EM3WIPNJH6XKJU3O3YFL616AO1 D913VKHHNKCU3 58G5722Q M4BYQ3F4GH34W7ABT0I Q6RGOBD2PAM3 PQVMLL9FNYL50 AXRA45OFRMJF0DFORJG7S5DTXX4C48J410GHAQUL8P75QCW1URD4')
GO


INSERT INTO DOITACQUANGCAO (MADOITAC, TENDOITAC, NGAYKYHOPDONG, NGAYHETHAN, THONGTINVITRIDANG, NOIDUNG) VALUES (0, 'QUANG CAO THONG NHAT', '2019-3-16 8:17:34', '2020-7-6 4:40:1', 'INMT3ANBOYBIIVMI2ECB16D82YGEDUQIN0L9SY4JNCCVKJE9CM2MJ3WI3JPPVIFQXQ63QLGEJ CD8DLY8FRYJWUH14S42SDYXEPHN7247P 65PHY15MTSHPXYQSR3FJJO2C9DNKXYRP7 ROQLKPB5OAOFVI84452S60VQPXCNVTWHN1V9STAE6NUMENWGFQ7FLEIJ0B P29HDFQ6XDJ6FN5K6KLS9T3V7J0WQ79L UXRE07L2AA46ME893JIWQA', '0DO4H7RI302C8E858MV7UJJBBM2HFNEOVM4SEW23MP2X05VKA2X8UIQ4JIY5GU3WQ8ATETFEENISWLKR8GM342IANPO58WVW3 2TVY21TUIWCKVAMCIAH8 JPHJQ27SUL6R7WC3VGWMXH0A 5SM4B39XSR91V8Q91P2574J30WOE1W6 PFCLNPAS7UYX9EKVEX2L6BB6CH3LG7TNBEFM68 PEO64FA QRR9AU4AUHVJKTYDQ6E5TBS3K PT0CCN')
GO


INSERT INTO DOITACQUANGCAO (MADOITAC, TENDOITAC, NGAYKYHOPDONG, NGAYHETHAN, THONGTINVITRIDANG, NOIDUNG) VALUES (1, 'QUANG CAO NGOC HUE', '2019-10-21 4:20:33', '2020-1-1 0:0:0', 'I7KNUHQ3XA TGQW3IT8ARJIJW7CNXX7LQURLD DK0IKKT8KEA A84T1TFOFCDBL70J7D50HVDVPQUW587KNO0FPEU2UN3NTF7X8H36AB63I5BKJG0JK0GK3UQW9SKUEUXD2BBBPOFJ5JD7198LCKRN93HDD HXFENT23AE03V7VIDYHB61CKH6WJ6CXBW3LFKWL1OI660SVLY2BOYRX5HV3YQANP2P1NMW07HYKW4KG820HSGGHCULLIWDC4LBF', '6EOKRWP64NP55U6 5NM2K2LCKPV9VI84TQMBAP7NC49IYX0L67U833UC3IO7O7GTKD37 8X82FAJE3I6CJB2CRSLWF7U88Q5J16DN64E573MN3VHGFUE20PH QYP46NC8LFD0V1JRAIHP89ALVRHTJWCNR2SO7YKC4X4F81WBMWA9JU55YYXWMQFG34G25CXXTCY4YGNJA5NVPWOR0STF8JU9EBG7JKDA1SO4APXENNJV0P8EH8L9YRM7JC QIG')
GO

SET IDENTITY_INSERT DOITACQUANGCAO  OFF;

/*==============================================================*/
/* Generate test data for the table "Chi Tiet Don Nhap".        */
/*==============================================================*/
INSERT INTO CHITIETDONNHAP (MADONNHAP, MAHANG, SOLUONGNHAP) VALUES (3, 6, 2)
GO


INSERT INTO CHITIETDONNHAP (MADONNHAP, MAHANG, SOLUONGNHAP) VALUES (3, 1, 2)
GO


INSERT INTO CHITIETDONNHAP (MADONNHAP, MAHANG, SOLUONGNHAP) VALUES (3, 2, 4)
GO


INSERT INTO CHITIETDONNHAP (MADONNHAP, MAHANG, SOLUONGNHAP) VALUES (3, 5, 10)
GO


DBCC CHECKIDENT (CHITIETDONNHAP, RESEED, 0);
INSERT INTO CHITIETDONNHAP (MADONNHAP, MAHANG, SOLUONGNHAP) VALUES (4, 6, 11)
GO

DBCC CHECKIDENT (CHITIETDONNHAP, RESEED, 0);
INSERT INTO CHITIETDONNHAP (MADONNHAP, MAHANG, SOLUONGNHAP) VALUES (1, 6, 1)
GO

DBCC CHECKIDENT (CHITIETDONNHAP, RESEED, 0);
INSERT INTO CHITIETDONNHAP (MADONNHAP, MAHANG, SOLUONGNHAP) VALUES (0, 0, 1)
GO

DBCC CHECKIDENT (CHITIETDONNHAP, RESEED, 0);
INSERT INTO CHITIETDONNHAP (MADONNHAP, MAHANG, SOLUONGNHAP) VALUES (2, 7, 10)
GO


/*==============================================================*/
/* Generate test data for the table "Chi Tiet Don Tra Hang".    */
/*==============================================================*/
INSERT INTO CHITIETDONTRAHANG (MADONTRA, MAHANGLOI, SOLUONGTRA, LYDO) VALUES (0, 9, 3, N'hàng lỗi bao bì')
GO


INSERT INTO CHITIETDONTRAHANG (MADONTRA, MAHANGLOI, SOLUONGTRA, LYDO) VALUES (0, 3, 3, N'hàng lỗi bao bì')
GO


DBCC CHECKIDENT (CHITIETDONTRAHANG, RESEED, 0);
INSERT INTO CHITIETDONTRAHANG (MADONTRA, MAHANGLOI, SOLUONGTRA, LYDO) VALUES (2, 5, 5, N'date cận quá')
GO


DBCC CHECKIDENT (CHITIETDONTRAHANG, RESEED, 0);
INSERT INTO CHITIETDONTRAHANG (MADONTRA, MAHANGLOI, SOLUONGTRA, LYDO) VALUES (1, 5, 4, N'chất lượng kém')
GO


DBCC CHECKIDENT (CHITIETDONTRAHANG, RESEED, 0);
INSERT INTO CHITIETDONTRAHANG (MADONTRA, MAHANGLOI, SOLUONGTRA, LYDO) VALUES (3, 5, 4, N'chất lượng kém')
GO

--SELECT * FROM GOPY;
--SELECT * FROM CHITIETBANGTHONGKE;
--SELECT TENKH, TENHANG, NOIDUNG, FLAG FROM GOPY G, KHACHHANG K, HANG H WHERE G.MAHANG = H.MAHANG AND K.MAKH = G.MAKH ORDER BY TENKH ASC;
--SELECT * FROM DONNHAPHANG;
--SELECT * FROM CHITIETDONNHAP;
--SELECT * FROM KHACHHANG;
--SELECT * FROM CHITIETHANGLOI;
--select LOAINV from nhanvien WHERE TENDANGNHAP = 'NV7' AND MATKHAU = '1234';
--SELECT * FROM NHANVIEN ORDER BY LOAINV ASC;
select H.MAHANG, H.TENHANG AS [TÊN HÀNG], SUM(SOLUONG) AS [TỔNG SỐ LƯỢNG BÁN] from CHITIETHOADON C, HANG H WHERE C.MAHANG = H.MAHANG GROUP BY H.MAHANG, H.TENHANG;

select * from gopy;